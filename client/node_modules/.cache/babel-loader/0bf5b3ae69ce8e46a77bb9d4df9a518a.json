{"ast":null,"code":"import React from'react';import axios from'axios';import{connect}from'react-redux';import{clearCart as _clearCart}from'../../redux/cart/cart-actions';import StripeCheckout from'react-stripe-checkout';var StripeButton=function StripeButton(_ref){var price=_ref.price,clearCart=_ref.clearCart;var stripePrice=price*100;var publishableKey='pk_test_ZH77F2AxdYvabdnxSJaUTFHJ00cxlOYpm3';var onToken=function onToken(token){axios({url:'payment',method:'post',data:{amount:stripePrice,token:token}}).then(function(response){alert('Payment Successful!');clearCart();}).catch(function(error){console.log('Payment error: ',JSON.parse(error));alert(\"There was an issue with your payment.  \\n        Please make sure to use the credit card provided.\");});};return/*#__PURE__*/React.createElement(StripeCheckout,{label:\"Pay Now\",name:\"Crown Clothing\",billingAddress:true,shippingAddress:true,image:\"https://sendeyo.com/up/d/f3eb2117da\",description:\"Your total is $\".concat(price),amount:stripePrice,panelLabel:\"Pay Now\",token:onToken,stripeKey:publishableKey});};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{clearCart:function clearCart(){return dispatch(_clearCart());}};};export default connect(null,mapDispatchToProps)(StripeButton);","map":{"version":3,"sources":["/Users/TGAP/Desktop/crown-clothing/client/src/components/stripe-button/stripe-buttons.jsx"],"names":["React","axios","connect","clearCart","StripeCheckout","StripeButton","price","stripePrice","publishableKey","onToken","token","url","method","data","amount","then","response","alert","catch","error","console","log","JSON","parse","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,SAAS,GAATA,CAAAA,UAAR,KAAwB,+BAAxB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAwB,IAAtBC,CAAAA,KAAsB,MAAtBA,KAAsB,CAAfH,SAAe,MAAfA,SAAe,CAC3C,GAAMI,CAAAA,WAAW,CAAGD,KAAK,CAAG,GAA5B,CACA,GAAME,CAAAA,cAAc,CAAG,4CAAvB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,KAAK,CAAI,CACvBT,KAAK,CAAC,CACJU,GAAG,CAAE,SADD,CAEJC,MAAM,CAAE,MAFJ,CAGJC,IAAI,CAAE,CACJC,MAAM,CAAEP,WADJ,CAEJG,KAAK,CAALA,KAFI,CAHF,CAAD,CAAL,CAQCK,IARD,CAQM,SAAAC,QAAQ,CAAI,CAChBC,KAAK,CAAC,qBAAD,CAAL,CACAd,SAAS,GACV,CAXD,EAYCe,KAZD,CAYO,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BC,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAA/B,EACAF,KAAK,sGAAL,CAED,CAhBD,EAiBD,CAlBD,CAoBA,mBACE,oBAAC,cAAD,EACE,KAAK,CAAC,SADR,CAEE,IAAI,CAAC,gBAFP,CAGE,cAAc,KAHhB,CAIE,eAAe,KAJjB,CAKE,KAAK,CAAC,qCALR,CAME,WAAW,0BAAoBX,KAApB,CANb,CAOE,MAAM,CAAEC,WAPV,CAQE,UAAU,CAAC,SARb,CASE,KAAK,CAAEE,OATT,CAUE,SAAS,CAAED,cAVb,EADF,CAcD,CAtCD,CAwCA,GAAMgB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCtB,SAAS,CAAE,2BAAMsB,CAAAA,QAAQ,CAACtB,UAAS,EAAV,CAAd,EAD2B,CAAL,EAAnC,CAIA,cAAeD,CAAAA,OAAO,CAAC,IAAD,CAAOsB,kBAAP,CAAP,CAAkCnB,YAAlC,CAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport {connect} from 'react-redux';\nimport {clearCart} from '../../redux/cart/cart-actions';\n\nimport StripeCheckout from 'react-stripe-checkout';\n\nconst StripeButton = ({price, clearCart}) => {\n  const stripePrice = price * 100;\n  const publishableKey = 'pk_test_ZH77F2AxdYvabdnxSJaUTFHJ00cxlOYpm3';\n\n  const onToken = token => {\n    axios({\n      url: 'payment',\n      method: 'post',\n      data: {\n        amount: stripePrice,\n        token\n      }\n    })\n    .then(response => {\n      alert('Payment Successful!');\n      clearCart();\n    })\n    .catch(error => {\n      console.log('Payment error: ', JSON.parse(error));\n      alert(`There was an issue with your payment.  \n        Please make sure to use the credit card provided.`);\n    });\n  };\n\n  return (\n    <StripeCheckout\n      label='Pay Now'\n      name='Crown Clothing'\n      billingAddress\n      shippingAddress\n      image='https://sendeyo.com/up/d/f3eb2117da'\n      description={`Your total is $${price}`}\n      amount={stripePrice}\n      panelLabel='Pay Now'\n      token={onToken}\n      stripeKey={publishableKey}\n    />\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  clearCart: () => dispatch(clearCart())\n});\n\nexport default connect(null, mapDispatchToProps)(StripeButton);"]},"metadata":{},"sourceType":"module"}